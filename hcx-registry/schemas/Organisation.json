{
   "$schema":"http://json-schema.org/draft-07/schema",
   "type":"object",
   "properties":{
      "Organisation":{
         "$ref":"#/definitions/Organisation"
      }
   },
   "required":[
      "Organisation"
   ],
   "title":"Organisation",
   "definitions":{
      "Organisation":{
         "$id":"#/definitions/Organisation",
         "type":"object",
         "title":"The Organisation Schema",
         "required":[
            "participant_code",
            "participant_name",
            "roles",
            "primary_mobile",
            "status",
            "encryption_cert",
            "endpoint_url"
         ],
         "properties":{
            "participant_code":{
               "type":"string"
            },
            "participant_name":{
               "type":"string"
            },
            "roles":{
               "type":"array",
               "items":{
                  "type":"string",
                  "enum" :["provider", "payor", "agency.tpa", "agency.regulator", "research", "member.isnp", "agency.sponsor", "HIE/HIO.HCX"]
               }
            },
            "linked_registry_codes":{
               "type":"array",
               "items":{
                  "type":"string"
               }
            },
            "scheme_code":{
               "type":"string",
               "default": "default"
            },
            "address":{
               "$ref":"#/definitions/address"
            },
            "primary_email":{
               "type":"string",
               "format":"email"
            },
            "additional_email":{
               "type":"array",
               "items":{
                  "type":"string",
                  "format":"email"
               },
               "maxItems":2
            },
            "phone":{
               "type":"array",
               "items":{
                  "type":"string"
               },
               "maxItems":3
            },
            "primary_mobile":{
               "type":"string"
            },
            "additional_mobile":{
               "type":"array",
               "items":{
                  "type":"string"
               },
               "maxItems":2
            },
            "status":{
               "type":"string",
               "enum":[
                  "Created",
                  "Active",
                  "Inactive",
                  "Blocked"
               ]
            },
            "signing_cert_path":{
               "type":"string",
               "format":"uri"
            },
            "encryption_cert":{
               "type":"string",
               "format":"uri"
            },
            "endpoint_url":{
               "type":"string",
               "format":"url"
            },
            "payment_details":{
               "type":"object",
               "required":[

               ],
               "properties":{
                  "upi_id":{
                     "type":"string"
                  },
                  "account_number":{
                     "type":"string"
                  },
                  "ifsc_code":{
                     "type":"string"
                  }
               },
               "oneOf":[
                  {
                     "required":[
                        "upi_id"
                     ]
                  },
                  {
                     "required":[
                        "account_number",
                        "ifsc_code"
                     ]
                  }
               ]
            }
         }
      },
      "address":{
         "type":"object",
         "required":[

         ],
         "properties":{
            "plot":{
               "type":"string"
            },
            "street":{
               "type":"string"
            },
            "landmark":{
               "type":"string"
            },
            "village":{
               "type":"string"
            },
            "district":{
               "type":"string"
            },
            "state":{
               "type":"string"
            },
            "pincode":{
               "type":"string"
            }
         }
      }
   },
   "_osConfig":{
      "ownershipAttributes": [
         {
            "email": "/primary_email",
            "mobile": "/primary_mobile",
            "userId": "/primary_email"
         }
      ],
      "uniqueIndexFields":[
         "participant_code",
         "primary_email"
      ]
   }
}
